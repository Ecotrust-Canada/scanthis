
<div ng-init="showforms=false;edit_dialog=false" class="panel white" id="receiveshipment">

  <div ng-controller="DisplayCollectionCtrl"  id="current_lot">
    <display settings="settings" ng-if="current[station_info.collectiontable]" obj="current[station_info.collectiontable]" config="adddisplay"></display>
    <p ng-if="!current[station_info.collectiontable]">No Current Lot</p>
  </div>

  <div>
    <button ng-hide="showforms" ng-click="showforms=!showforms" class="btn-blue">Choose Lot</button>
    <button ng-show="showforms" ng-click="showforms=!showforms" class="btn-blue">Cancel Choose Lot</button>
  </div>
  <div>
    <button ng-hide="edit_dialog" ng-click="edit_dialog=!edit_dialog" class="btn-blue">Edit/Create</button>
    <button ng-show="edit_dialog" ng-click="edit_dialog=!edit_dialog" class="btn-blue">Cancel Edit/Create</button>
  </div>

  <div ng-controller="NewLotCtrl" ng-show="showforms" class="select_object">
    <input-dropdown  thelist="list.stnlots"  config="adddropdown2" on-select="SetLot(value);$parent.showforms=!showforms"></input-dropdown>
    <br>
    <br>
    <br>
    
  </div>

  

</div>



<div ng-init="createforms=false;editforms=false;" class="panel white" id="receiveshipment" ng-show="edit_dialog">

  <div ng-controller="LoadEditLotCtrl" class="editbuttons">
    <input-dropdown  thelist="list.stnlots"  config="adddropdown2" on-select="SetEditLot(value)"></input-dropdown>
    <button ng-hide="editforms" ng-click="$parent.editforms=!editforms;GetEditShip();formchange=!formchange" class="btn-blue" ng-disabled="(createforms || !current.edit_lot)">Edit Lot</button>
    <button ng-show="editforms" ng-click="$parent.editforms=!editforms;current.edit_lot=null" class="btn-blue">Cancel</button>
  </div>

  <div class="createbuttons">
    <button ng-hide="createforms" ng-click="createforms=!createforms;formchange=!formchange" class="btn-blue" ng-disabled="editforms">Create Lot</button>
    <button ng-show="createforms" ng-click="createforms=!createforms" class="btn-blue">Cancel</button>
  </div>

  <div ng-controller="CreateLotCtrl" ng-show="createforms" class="select_object">
    <setshipmentinfo></setshipmentinfo>
    <setsupplierinfo></setsupplierinfo>
    <setharvesterinfo></setharvesterinfo>

    <div class="centre_btn">
      <button class="btn-orange" ng-click="SubmitNewLot(form);$parent.createforms=!$parent.createforms">Enter</button>
    </div> 
    
  </div>


  <editreceivinglot></editreceivinglot>

</div>




<div class="panel white" id="receivingprintlabel">
    <div ng-controller="NewBoxCtrl" class="fieldsetrepeat">
        <span class="select_header">Add boxes</span>
       <fieldsetrepeat submit-fn="SubmitForm(choices);" config="scanform" formdisabled="formdisabled"></fieldsetrepeat>
    </div>

    <hr>

    <div ng-controller="CompleteLotCtrl">
      <button ng-if=" current.collectionid && current.collectionid!=='no selected'" 
              ng-disabled="current.completed===true" class="btn-blue" id="complete-lot"
              ng-click="CompleteLot(current.collectionid, [station_code])">Complete Lot</button>
    </div>
    
</div>








<div class="panel grey not" ng-controller="NoLabelTotalCtrl">

      <button ng-if=" current.collectionid && current.collectionid!=='no selected'" 
              ng-disabled="current.completed===true" class="btn-blue" id="complete-lot"
              ng-click="getTheData(current.collectionid, sumStations, current.harvester_lot.internal_lot_code)">CSV</button><br>




	<div class="itemsframe entries">
    <bufferedscrolllist itemlist="list.included" config="itemlistconfig" update-fn="RemoveScan(str)"></bufferedscrolllist>
  </div>
  <div class="itemtotals">
  	<list itemlist="list.boxes"  config="totallistconfig" istotal="istotal" ></list>
  </div>
</div>






      

